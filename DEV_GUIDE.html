

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Developer Guide &mdash; GABM  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=9edc463e" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=fd6eb6e6"></script>
      <script src="_static/sphinx_highlight.js?v=6ffebe34"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="User Guide" href="USER_GUIDE.html" />
    <link rel="prev" title="User Setup Guide" href="SETUP_GUIDE_USER.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            GABM
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Project Documents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="LICENSE.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="SETUP_GUIDE_DEV.html">Developer Setup Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="SETUP_GUIDE_USER.html">User Setup Guide</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Developer Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#table-of-contents">Table of Contents</a></li>
<li class="toctree-l2"><a class="reference internal" href="#contributing-workflow">Contributing Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="#collaboration-communication">Collaboration &amp; Communication</a></li>
<li class="toctree-l2"><a class="reference internal" href="#project-structure">Project Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="#python-package-entry-point-main-py">Python Package Entry Point: <strong>main</strong>.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="#makefile-targets">Makefile Targets</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#target-chaining-dry-and-consistency">Target Chaining, DRY, and Consistency</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#developing-documentation">Developing Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#python-version">Python Version</a></li>
<li class="toctree-l2"><a class="reference internal" href="#packaging-files">Packaging Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pypi-release-process">PyPI Release Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="#continuous-integration-branch-protection">Continuous Integration &amp; Branch Protection</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#automated-testing-and-docs-deployment-with-github-actions">Automated Testing and Docs Deployment with GitHub Actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#branch-protection-for-main-and-gh-pages">Branch Protection for main and gh-pages</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#joss-article-intention">JOSS Article Intention</a></li>
<li class="toctree-l2"><a class="reference internal" href="#maintainer-guide">Maintainer Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#gh-pages-branch-and-documentation-deployment">gh-pages Branch and Documentation Deployment</a></li>
<li class="toctree-l3"><a class="reference internal" href="#troubleshooting">Troubleshooting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#github-pages-worktree-conflict">GitHub Pages Worktree Conflict</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#additional-resources">Additional Resources</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview-of-project-markdown-files">Overview of Project Markdown Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#working-with-an-ai-pair-programmer">Working with an AI Pair Programmer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#managing-logs-and-caches">Managing Logs and Caches</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="USER_GUIDE.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="requirements-dev.html">Requirements (Developer)</a></li>
<li class="toctree-l1"><a class="reference internal" href="requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="API_KEYS.html">API Key Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="CONTRIBUTORS.html">Contributors</a></li>
<li class="toctree-l1"><a class="reference internal" href="CODE_OF_CONDUCT.html">Contributor Covenant Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="ROADMAP.html">Project Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="CHANGE_LOG.html">CHANGE_LOG</a></li>
<li class="toctree-l1"><a class="reference internal" href="DEVELOPMENT_HISTORY.html">Development History and Project Journal</a></li>
<li class="toctree-l1"><a class="reference internal" href="JOSS_SUBMISSION.html">JOSS Submission Planning and Draft</a></li>
<li class="toctree-l1"><a class="reference internal" href="SECURITY.html">Security and Code of Conduct Reporting</a></li>
<li class="toctree-l1"><a class="reference internal" href="CONTACT.html">Contact</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">GABM</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Developer Guide</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/DEV_GUIDE.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="developer-guide">
<h1>Developer Guide<a class="headerlink" href="#developer-guide" title="Link to this heading"></a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p>For detailed session logs and workflow rationale, see <a class="reference internal" href="#docs/DEV_SESSION_LOGGING.md"><span class="xref myst">docs/DEV_SESSION_LOGGING.md</span></a>.
This guide provides best practices for contributing to GABM, collaborating with other developers, and understanding the project structure, Makefile targets, and documentation workflow. Documentation was updated in release 0.1.1 for clarity and completeness.</p>
</section>
<section id="table-of-contents">
<h2>Table of Contents<a class="headerlink" href="#table-of-contents" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="#overview"><span class="xref myst">Overview</span></a></p></li>
<li><p><a class="reference internal" href="#contributing-workflow"><span class="xref myst">Contributing Workflow</span></a></p></li>
<li><p><a class="reference internal" href="#collaboration--communication"><span class="xref myst">Collaboration &amp; Communication</span></a></p></li>
<li><p><a class="reference internal" href="#project-structure"><span class="xref myst">Project Structure</span></a></p></li>
<li><p><a class="reference internal" href="#python-package-entry-point-__main__py"><span class="xref myst">Python Package Entry Point: <strong>main</strong>.py</span></a></p></li>
<li><p><a class="reference internal" href="#makefile-targets"><span class="xref myst">Makefile Targets</span></a></p></li>
<li><p><a class="reference internal" href="#developing-documentation"><span class="xref myst">Developing Documentation</span></a></p></li>
<li><p><a class="reference internal" href="#python-version"><span class="xref myst">Python Version</span></a></p></li>
<li><p><a class="reference internal" href="#packaging-files"><span class="xref myst">Packaging Files</span></a></p></li>
<li><p><a class="reference internal" href="#pypi-release-process"><span class="xref myst">PyPI Release Process</span></a></p></li>
<li><p><a class="reference internal" href="#continuous-integration--branch-protection"><span class="xref myst">Continuous Integration &amp; Branch Protection</span></a></p></li>
<li><p><a class="reference internal" href="#joss-article-intention"><span class="xref myst">JOSS Article Intention</span></a></p></li>
<li><p><a class="reference internal" href="#maintainer-guide"><span class="xref myst">Maintainer Guide</span></a></p></li>
<li><p><a class="reference internal" href="#additional-resources"><span class="xref myst">Additional Resources</span></a></p></li>
</ul>
</section>
<section id="contributing-workflow">
<h2>Contributing Workflow<a class="headerlink" href="#contributing-workflow" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Fork the repository and create feature branches for new work.</p></li>
<li><p>Commit changes with clear messages.</p></li>
<li><p>Push to your fork and open a pull request (PR) against the main repository.</p></li>
<li><p>Review and respond to feedback promptly.</p></li>
<li><p>Keep your branch up to date with upstream/main.</p></li>
</ul>
</section>
<section id="collaboration-communication">
<h2>Collaboration &amp; Communication<a class="headerlink" href="#collaboration-communication" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Use GitHub Issues and PRs for discussion and tracking.</p></li>
<li><p>Communicate blockers or questions early.</p></li>
<li><p>Reference related issues/PRs in your commits and comments.</p></li>
<li><p>Respect code review feedback and project coding standards.</p></li>
</ul>
</section>
<section id="project-structure">
<h2>Project Structure<a class="headerlink" href="#project-structure" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">data/</span></code>: For data including log files</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">docs/</span></code>: Documentation and assets</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">scripts/</span></code>: Utility scripts</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">src/gabm</span></code>: Python source code package</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tests/</span></code>: Test suite</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Makefile</span></code>: Automation targets</p></li>
</ul>
</section>
<section id="python-package-entry-point-main-py">
<h2>Python Package Entry Point: <strong>main</strong>.py<a class="headerlink" href="#python-package-entry-point-main-py" title="Link to this heading"></a></h2>
<p>The main entry point for the GABM package is <code class="docutils literal notranslate"><span class="pre">src/gabm/__main__.py</span></code>. This follows Python packaging best practices and allows the application to be run using:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>python3 -m gabm
</pre></div>
</div>
<p>This approach is preferred over directly running a script (like <code class="docutils literal notranslate"><span class="pre">run.py</span></code>) because:</p>
<ul class="simple">
<li><p>It enables Python to treat <code class="docutils literal notranslate"><span class="pre">gabm</span></code> as a package, ensuring imports work correctly.</p></li>
<li><p>It is the standard way to provide a command-line entry point for Python packages.</p></li>
<li><p>It makes the project ready for distribution and installation via pip or PyPI.</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">__main__.py</span></code> file is executed when you run <code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">-m</span> <span class="pre">gabm</span></code> from the project root (with <code class="docutils literal notranslate"><span class="pre">src</span></code> on the Python path). If you need to add or change the main application logic, edit <code class="docutils literal notranslate"><span class="pre">src/gabm/__main__.py</span></code>.</p>
<p>For more details, see the <a class="reference external" href="https://docs.python.org/3/library/__main__.html">Python Packaging documentation</a>.</p>
</section>
<section id="makefile-targets">
<h2>Makefile Targets<a class="headerlink" href="#makefile-targets" title="Link to this heading"></a></h2>
<section id="target-chaining-dry-and-consistency">
<h3>Target Chaining, DRY, and Consistency<a class="headerlink" href="#target-chaining-dry-and-consistency" title="Link to this heading"></a></h3>
<p>For maintainability, all Makefile targets that depend on other build steps should use Make’s built-in dependency chaining (e.g., <code class="docutils literal notranslate"><span class="pre">gh-pages-deploy:</span> <span class="pre">docs</span></code>) rather than manually invoking <code class="docutils literal notranslate"><span class="pre">$(MAKE)</span></code> or shelling out to <code class="docutils literal notranslate"><span class="pre">make</span></code> within a target. This ensures:</p>
<ul class="simple">
<li><p>Each target is only responsible for its own logic.</p></li>
<li><p>The DRY (Don’t Repeat Yourself) principle is followed—no duplicated build logic.</p></li>
<li><p>Consistency: all targets use the same build steps, and changes to one target (like <code class="docutils literal notranslate"><span class="pre">docs</span></code>) automatically propagate to dependents (like <code class="docutils literal notranslate"><span class="pre">gh-pages-deploy</span></code>).</p></li>
</ul>
<p><strong>Recommended style:</strong></p>
<div class="highlight-makefile notranslate"><div class="highlight"><pre><span></span><span class="nf">gh-pages-deploy</span><span class="o">:</span><span class="w"> </span><span class="n">docs</span>
<span class="w">	</span>python3<span class="w"> </span>scripts/gh-pages-deploy.py
</pre></div>
</div>
<p><strong>Not recommended:</strong></p>
<div class="highlight-makefile notranslate"><div class="highlight"><pre><span></span><span class="nf">docs</span><span class="o">:</span>
<span class="w">	</span>python3<span class="w"> </span>scripts/docs.py
<span class="w">	</span><span class="nv">PYTHONPATH</span><span class="o">=</span>..<span class="w"> </span>sphinx-build<span class="w"> </span>-b<span class="w"> </span>html<span class="w"> </span>docs<span class="w"> </span>docs/_build/html
<span class="w">	</span><span class="k">$(</span>MAKE<span class="k">)</span><span class="w"> </span>docs-clean
</pre></div>
</div>
<p>or calling <code class="docutils literal notranslate"><span class="pre">make</span></code> from within a target, as this can lead to recursion, confusion, or inconsistent builds.</p>
<p><strong>Document this approach in comments in the Makefile and in the developer guide.</strong></p>
<p>This approach is now used for <code class="docutils literal notranslate"><span class="pre">gh-pages-deploy</span></code> and should be followed for future targets.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Target</p></th>
<th class="head"><p>Usage/Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">help</span></code></p></td>
<td><p>Show available Makefile commands</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">test</span></code></p></td>
<td><p>Run all tests (pytest)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">docs</span></code></p></td>
<td><p>Build documentation (Sphinx) and clean auto-copied docs assets</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">docs-build</span></code></p></td>
<td><p>Build documentation (Sphinx)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">docs-clean</span></code></p></td>
<td><p>Remove auto-copied documentation files from docs/</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">gh-pages-deploy</span></code></p></td>
<td><p>Build and deploy documentation to GitHub Pages (runs scripts/gh-pages-deploy.py)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">clean</span></code></p></td>
<td><p>Remove build/test artifacts and Python caches</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">clear-caches</span></code></p></td>
<td><p>Delete all LLM caches and model lists (for a clean slate)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">git-clean</span></code></p></td>
<td><p>Clean up merged local branches and prune deleted remotes</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">sync</span></code></p></td>
<td><p>Sync main branch with upstream</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">sync-feature</span> <span class="pre">BRANCH=release/0.2.0</span></code></p></td>
<td><p>Sync and rebase a feature/release branch onto main</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">setup-llms</span></code></p></td>
<td><p>Run onboarding/setup for all LLMs (API key check, model lists, cache init)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">release</span> <span class="pre">VERSION=x.y.z</span> <span class="pre">BRANCH=release/x.y.z</span></code></p></td>
<td><p>Tag and push a release (platform-agnostic)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">delete-release</span> <span class="pre">VERSION=x.y.z</span></code></p></td>
<td><p>Delete a release tag locally and on remotes (origin, upstream)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">build</span></code></p></td>
<td><p>Build a distribution package for PyPI (python -m build)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">build-test</span></code></p></td>
<td><p>Build and test install the package in a fresh venv</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">pypi-release</span></code></p></td>
<td><p>Upload the built package to PyPI (twine upload dist/*)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">testpypi-release</span></code></p></td>
<td><p>Upload the built package to TestPyPI (twine upload –repository testpypi dist/*)</p></td>
</tr>
</tbody>
</table>
<p><strong>Notes:</strong></p>
<ul class="simple">
<li><p>All Python scripts used by Makefile targets are in the <code class="docutils literal notranslate"><span class="pre">scripts/</span></code> directory and are named consistently with their Makefile targets (e.g., <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">docs-clean</span></code> runs <code class="docutils literal notranslate"><span class="pre">scripts/docs-clean.py</span></code>).</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">delete-release</span></code> target automates deleting a release tag locally and on both remotes (origin, upstream).</p></li>
<li><p>This convention improves clarity and discoverability for contributors. For releases that are published in PyPI, the release tag is protected in the canonical upstream repository.</p></li>
<li><p>Targets are platform-agnostic and reproducible.</p></li>
</ul>
<p>Refer to the Makefile for full details and usage examples.</p>
</section>
</section>
<section id="developing-documentation">
<h2>Developing Documentation<a class="headerlink" href="#developing-documentation" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Edit Markdown files in <code class="docutils literal notranslate"><span class="pre">docs/</span></code> and project root</p></li>
<li><p>Use Sphinx and MyST via <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">docs</span></code> for documentation builds and update the script it uses as approriate</p></li>
<li><p>Add new guides or API docs as needed</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">docs</span></code> to preview changes</p></li>
</ul>
</section>
<section id="python-version">
<h2>Python Version<a class="headerlink" href="#python-version" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Python 3.12+ required for development</p></li>
<li><p>Ensure <code class="docutils literal notranslate"><span class="pre">python3</span></code> points to the correct version</p></li>
</ul>
</section>
<section id="packaging-files">
<h2>Packaging Files<a class="headerlink" href="#packaging-files" title="Link to this heading"></a></h2>
<p>The following files and directories are essential for building, testing, and distributing the GABM package:</p>
<ul class="simple">
<li><p><strong>pyproject.toml</strong>: Declares build system requirements and project metadata. Required for modern Python packaging (PEP 517/518).</p></li>
<li><p><strong>setup.cfg</strong>: Contains static package metadata and configuration for setuptools, such as:</p>
<ul>
<li><p>Package name, version, author, and description</p></li>
<li><p>Python version requirements</p></li>
<li><p>Entry points (e.g., console_scripts)</p></li>
<li><p>Classifiers and other options
This file is preferred over setup.py for static, declarative configuration.</p></li>
</ul>
</li>
<li><p><strong>MANIFEST.in</strong>: Tells setuptools which additional files (beyond Python modules) to include in the source distribution (sdist). For example:</p>
<ul>
<li><p>Documentation files (README.md, LICENSE, etc.)</p></li>
<li><p>Data files needed at runtime</p></li>
<li><p>Example: <code class="docutils literal notranslate"><span class="pre">include</span> <span class="pre">README.md</span> <span class="pre">LICENSE</span> <span class="pre">data/*.csv</span></code>
This ensures users who install from source get all necessary files.</p></li>
</ul>
</li>
<li><p><strong>requirements.txt</strong>: Lists pinned dependencies for end users (used by pip install -r requirements.txt).</p></li>
<li><p><strong>requirements-dev.txt</strong>: Lists development dependencies (testing, linting, docs) with version ranges for contributors.</p></li>
<li><p><strong>dist/</strong>: Output directory for built distributions (.tar.gz and .whl files) after running the build process.</p></li>
<li><p><strong>src/gabm.egg-info/</strong>: Metadata directory created by setuptools during build. Contains information about the package (version, dependencies, etc.). Safe to delete; will be recreated as needed.</p></li>
<li><p><strong>venv-build-test/</strong>: Temporary virtual environment created by <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">build-test</span></code> for testing the built package in isolation. Can be safely deleted after testing.</p></li>
</ul>
</section>
<section id="pypi-release-process">
<h2>PyPI Release Process<a class="headerlink" href="#pypi-release-process" title="Link to this heading"></a></h2>
<p>To release a new version of GABM to PyPI, follow these steps:</p>
<ol class="arabic">
<li><p><strong>Update Version</strong>: Bump the version in setup.cfg and/or pyproject.toml as appropriate.</p></li>
<li><p><strong>Build the Package</strong>:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>build
</pre></div>
</div>
<p>This creates .tar.gz and .whl files in the dist/ directory.</p>
</li>
<li><p><strong>Test the Build</strong>:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>build-test
</pre></div>
</div>
<p>This installs the built package in a clean environment and runs the test suite.</p>
</li>
<li><p><strong>Upload to TestPyPI (optional but recommended):</strong></p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>testpypi-release
</pre></div>
</div>
<p>This uploads the package to TestPyPI. Test installation from TestPyPI in a clean environment:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>--index-url<span class="w"> </span>https://test.pypi.org/simple/<span class="w"> </span>gabm
</pre></div>
</div>
</li>
<li><p><strong>Upload to PyPI:</strong></p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>pypi-release
</pre></div>
</div>
<p>This uploads the package to the official PyPI repository.</p>
</li>
<li><p><strong>Verify Release:</strong></p>
<ul class="simple">
<li><p>Check the PyPI page and test installation with pip install gabm</p></li>
</ul>
</li>
</ol>
<p>For more details, see the <a class="reference external" href="https://packaging.python.org/">Python Packaging User Guide</a>.</p>
</section>
<section id="continuous-integration-branch-protection">
<h2>Continuous Integration &amp; Branch Protection<a class="headerlink" href="#continuous-integration-branch-protection" title="Link to this heading"></a></h2>
<section id="automated-testing-and-docs-deployment-with-github-actions">
<h3>Automated Testing and Docs Deployment with GitHub Actions<a class="headerlink" href="#automated-testing-and-docs-deployment-with-github-actions" title="Link to this heading"></a></h3>
<p>The project uses GitHub Actions workflows for CI/CD:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">.github/workflows/test.yml</span></code> automatically runs <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">test</span></code> on pushes and pull requests to the main branch.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.github/workflows/gh-pages-deploy.yml</span></code> builds documentation for the gh-pages branch and can be used for automated docs deployment.</p></li>
</ul>
</section>
<section id="branch-protection-for-main-and-gh-pages">
<h3>Branch Protection for main and gh-pages<a class="headerlink" href="#branch-protection-for-main-and-gh-pages" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>The main branch is protected: all pull requests must pass the test workflow before merging.</p></li>
<li><p>The gh-pages branch is protected: docs deployment workflow runs and branch deletion/force pushes are prevented.</p></li>
<li><p>You may need to select the workflow(s) as required status checks in the branch protection settings.</p></li>
<li><p>If a workflow is not triggered, push a new commit or reopen the PR to activate it.</p></li>
</ul>
<p>For more details, see <a class="reference external" href="https://docs.github.com/en/actions">GitHub Actions documentation</a> and <a class="reference external" href="https://docs.github.com/en/repositories/configuring-branches-and-merges-in-your-repository/defining-the-branch-protection-rules-for-your-repository">GitHub branch protection rules</a>.</p>
</section>
</section>
<section id="joss-article-intention">
<h2>JOSS Article Intention<a class="headerlink" href="#joss-article-intention" title="Link to this heading"></a></h2>
<p>The project team intends to write and submit an article to the Journal of Open Source Software (JOSS) describing the development, purpose, and impact of GABM. Scaffolding for the JOSS article and submission workflow will be created in future sessions. Contributors and collaborators are encouraged to participate in the drafting and review process.</p>
<p>For updates and progress, see DEVELOPMENT_HISTORY.md and the Sphinx documentation.</p>
</section>
<section id="maintainer-guide">
<h2>Maintainer Guide<a class="headerlink" href="#maintainer-guide" title="Link to this heading"></a></h2>
<section id="gh-pages-branch-and-documentation-deployment">
<h3>gh-pages Branch and Documentation Deployment<a class="headerlink" href="#gh-pages-branch-and-documentation-deployment" title="Link to this heading"></a></h3>
<p>Only maintainers should update or force-push the <code class="docutils literal notranslate"><span class="pre">gh-pages</span></code> branch on the upstream (canonical) repository. This branch is used exclusively for GitHub Pages deployment and should not be merged into <code class="docutils literal notranslate"><span class="pre">main</span></code>.</p>
<p><strong>Policy:</strong></p>
<ul class="simple">
<li><p>Developers should focus on writing Python code and docstrings in <code class="docutils literal notranslate"><span class="pre">src/</span></code>, which are auto-included in Sphinx documentation builds.</p></li>
<li><p>Sphinx documentation is built and deployed by maintainers using <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">gh-pages-deploy</span></code>.</p></li>
<li><p>If the upstream <code class="docutils literal notranslate"><span class="pre">gh-pages</span></code> branch is out of sync or needs to be replaced, maintainers may use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">--force</span> <span class="pre">upstream</span> <span class="pre">gh-pages</span></code> to overwrite it with the correct local version. This should be done with care, as it replaces the branch history.</p></li>
<li><p>Developers should not push directly to the upstream <code class="docutils literal notranslate"><span class="pre">gh-pages</span></code> branch.</p></li>
</ul>
<p><strong>Summary:</strong></p>
<ul class="simple">
<li><p>Most contributors work in feature branches and submit PRs for code and documentation changes (in Markdown or docstrings).</p></li>
<li><p>Only maintainers handle the deployment and updating of the <code class="docutils literal notranslate"><span class="pre">gh-pages</span></code> branch.</p></li>
</ul>
</section>
<section id="troubleshooting">
<h3>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Link to this heading"></a></h3>
<section id="github-pages-worktree-conflict">
<h4>GitHub Pages Worktree Conflict<a class="headerlink" href="#github-pages-worktree-conflict" title="Link to this heading"></a></h4>
<p>When deploying documentation with <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">gh-pages-deploy</span></code>, you may encounter an error like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fatal</span><span class="p">:</span> <span class="s1">&#39;gh-pages&#39;</span> <span class="ow">is</span> <span class="n">already</span> <span class="n">used</span> <span class="n">by</span> <span class="n">worktree</span> <span class="n">at</span> <span class="s1">&#39;/tmp/gh-pages-xxxx...&#39;</span>
</pre></div>
</div>
<p>This occurs if a previous deployment left a lingering worktree directory for the <code class="docutils literal notranslate"><span class="pre">gh-pages</span></code> branch. The deployment script now automatically checks for and removes any existing worktree before adding a new one. If you still encounter this error, manually remove the worktree:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">worktree</span> <span class="n">remove</span> <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">gh</span><span class="o">-</span><span class="n">pages</span><span class="o">-</span><span class="n">xxxx</span><span class="o">...</span>
</pre></div>
</div>
<p>For more details, see the comments in the Makefile and the deployment script.</p>
</section>
</section>
</section>
<section id="additional-resources">
<h2>Additional Resources<a class="headerlink" href="#additional-resources" title="Link to this heading"></a></h2>
<section id="overview-of-project-markdown-files">
<h3>Overview of Project Markdown Files<a class="headerlink" href="#overview-of-project-markdown-files" title="Link to this heading"></a></h3>
<p>The project includes several Markdown files, each serving a specific purpose:</p>
<ul class="simple">
<li><p><strong>README.md</strong>: Project overview, setup instructions, and links to key documentation.</p></li>
<li><p><strong>SETUP_GUIDE_USER.md</strong>: Step-by-step environment setup for users.</p></li>
<li><p><strong>SETUP_GUIDE_DEV.md</strong>: Step-by-step environment setup for developers.</p></li>
<li><p><strong>USER_GUIDE.md</strong>: End user instructions for installing, configuring, and running GABM.developers.</p></li>
<li><p><strong>DEV_GUIDE.md</strong>: Developer workflow, project structure, and best practices.</p></li>
<li><p><strong>API_KEYS.md</strong>: Required API keys for LLMs and configuration details.</p></li>
<li><p><strong>CODE_OF_CONDUCT.md</strong>: Expected behavior and reporting procedures.</p></li>
<li><p><strong>CONTRIBUTORS.md</strong>: Project contributors and roles.</p></li>
<li><p><strong>ROADMAP.md</strong>: Planned features and future development goals.</p></li>
<li><p><strong>CHANGE_LOG.md</strong>: Tracks changes and updates across releases.</p></li>
<li><p><strong>DEVELOPMENT_HISTORY.md</strong>: Project development, milestones, and reflections.</p></li>
</ul>
<p>This structure helps developers find relevant information and understand the documentation layout. These files are referenced and included in Sphinx documentation for consistency and accessibility.</p>
<ul class="simple">
<li><p>See <a class="reference internal" href="SETUP_GUIDE_DEV.html"><span class="std std-doc">SETUP_GUIDE_DEV.md</span></a> for environment setup</p></li>
<li><p>See <a class="reference internal" href="README.html"><span class="std std-doc">README.md</span></a> for project overview</p></li>
</ul>
</section>
<section id="working-with-an-ai-pair-programmer">
<h3>Working with an AI Pair Programmer<a class="headerlink" href="#working-with-an-ai-pair-programmer" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Using an AI pair programmer (such as GitHub Copilot) can greatly accelerate development and normalize good practice. To get the most benefit:</p></li>
<li><p>Review all changes, as AI assistants have limited session memory and may occasionally miss details.</p></li>
<li><p>Maintain comprehensive documentation to bridge memory gaps and enable effective guidance.</p></li>
<li><p>Refer the AI assistant to existing documentation to help it provide accurate and context-aware support.</p></li>
<li><p>Use clear prompts and feedback to teach and guide the AI assistant as needed.</p></li>
</ul>
<p>This collaborative workflow helps ensure continuity, reproducibility, and efficient development for both human and AI contributors.</p>
</section>
<section id="managing-logs-and-caches">
<h3>Managing Logs and Caches<a class="headerlink" href="#managing-logs-and-caches" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Logs and caches (including prompt/response caches for LLM services) are generated during development and use. These files can become large. Typically they are not committed to the repository. Tidy-up scripts and Makefile targets for managing logs and caches are planned for version 0.2.0.</p></li>
</ul>
<hr class="docutils" />
<p>For further questions, <a class="reference external" href="https://github.com/compolis/GABM/issues/new/choose">open an issue</a> or contact maintainers via GitHub.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="SETUP_GUIDE_USER.html" class="btn btn-neutral float-left" title="User Setup Guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="USER_GUIDE.html" class="btn btn-neutral float-right" title="User Guide" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2026, GABM contributors, University of Leeds.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>